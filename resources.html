<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUASC: Resources</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <a id="hme-pg" href="index.html">Luasc</a>
        <a href="javascript:void(0);" class="icon" onclick="expandNav()">
            <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="var(--secondary)"><path d="M157.37-228.28q-19.15 0-32.33-13.18-13.17-13.17-13.17-32.32t13.17-32.33q13.18-13.17 32.33-13.17h645.26q19.15 0 32.33 13.17 13.17 13.18 13.17 32.33t-13.17 32.32q-13.18 13.18-32.33 13.18H157.37Zm0-206.22q-19.15 0-32.33-13.17-13.17-13.18-13.17-32.33t13.17-32.33q13.18-13.17 32.33-13.17h645.26q19.15 0 32.33 13.17 13.17 13.18 13.17 32.33t-13.17 32.33q-13.18 13.17-32.33 13.17H157.37Zm0-206.22q-19.15 0-32.33-13.17-13.17-13.18-13.17-32.33t13.17-32.32q13.18-13.18 32.33-13.18h645.26q19.15 0 32.33 13.18 13.17 13.17 13.17 32.32t-13.17 32.33q-13.18 13.17-32.33 13.17H157.37Z"/></svg>
        </a>
        
        <label id="theme-chng" class="switch">
            <input type="checkbox" onclick="toggleTheme()">
            <span class="slider round"></span>
        </label>
    </nav>
    <div id="pageLinks">
        <a id="gllry-pg" href="gallery.html">Gallery</a>
        <a id="rsrcs-sct" class="active" href="resources.html">Resources</a>
        <a id="cntct-pg" href="contact.html">Contact</a>
    </div>
    <h1>Resources</h1>
    <div class="flex-grid">
        <div id="learn-mat">
            <h2>Learning Materials</h2>
            <div id="bib-items"></div>
        </div>
        <div name="frm_calc" id="frame-calc">
            <h2>Frame Calculator</h2>
            <form>
                
                <label for="proj-name">What's the name of your project?</label>
                <input type="text" name="prjName" id="proj-name" class="center" required>
                
                <label for="anim-length">How long is your animation?</label>
                <input type="number" name="length" id="anim-length" class="center" placeholder="Enter the duration in minutes..." required>
    
                <label for="time-per-frame">How long does it take to draw each frame?</label>
                <input type="number" name="tpf" id="time-per-frame" class="center" placeholder="Enter the value in minutes..." required>
    
                <label for="num-animators">How many animators do you have?</label>
                <input type="number" name="numOfanimators" id="num-animators" class="center" required>
        
                <input type="submit" value="Calculate" onclick="event.preventDefault(); displayResults(prjName, length, tpf, numOfanimators)" class="center">
            </form>
            <br>
            <div id="results"></div>
        </div>
    </div>
    
    <script src="scripts/themeChange.js"></script>
    <script src="scripts/mobileNav.js"></script>
    <script>
        function displayResults(prj_name, length, time_per_frame, num_of_animators){
            // Grabs access to a specially created 'div' element called "results"
           const resultSection = document.getElementById("results");
           
           try{
            if(prj_name.value === ""){
                throw "No project name.\nPlease enter a project name into the calculator.";
            }
            else if(length.value <= 0){
                throw "Invalid animation length.\nPlease enter a value greater than zero (0)."
            }
            else if(time_per_frame <= 0){
                throw "Invalid time per frame.\nPlease enter a value greater than zero (0)."
            }
            else if(num_of_animators <= 0){
                throw "Invalid number of animators.\nPlease enter a value greater than zero (0)."
            }
            // Modifies the contents of the 'div' element to display a procedurally generated message based on the user's inputs.
           resultSection.innerHTML = `<h2>Results</h2>
           <p>Your project, <strong>${prj_name.value}</strong>, has a runtime of <strong>${length.value.toLocaleString()} minutes</strong>, comprised of at least <strong>${calcTotalNumOfFrames(length.value, 8).toLocaleString()} frames</strong> (when animating on 3's) and at most <strong>${calcTotalNumOfFrames(length.value, 24).toLocaleString()} frames</strong> (when animating on 1's).</p><p>Since you have a team of <strong>${num_of_animators.value.toLocaleString()} animators</strong> and it takes <strong>${time_per_frame.value} minutes</strong> to create one frame, it will take you roughly <strong>${calcProjectTime(calcTotalNumOfFrames(length.value, 8))(time_per_frame.value)(num_of_animators.value).toFixed().toLocaleString()} - ${calcProjectTime(calcTotalNumOfFrames(length.value, 24))(time_per_frame.value)(num_of_animators.value).toFixed().toLocaleString()} hours.</strong></p>`;
           }
           catch (err){
                alert("ERROR: " + err);
           }   
        }
        const calcProjectTime = numOfFrames => tpf => numOfAnimators => (numOfFrames * tpf)/(60 * numOfAnimators);
        const calcTotalNumOfFrames = (length, dps) => length * (dps * 60);
    </script>
</body>
</html>